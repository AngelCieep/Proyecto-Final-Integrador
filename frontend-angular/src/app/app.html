<div class="page">
  <header class="hero">
    <div class="hero-copy">
      <p class="kicker">Proyecto API</p>
      <h1>Personajes de La Boticaria</h1>
      <p class="subtitle">
        Explora el elenco principal del palacio y sus detalles clave.
      </p>
      <div class="status" *ngIf="loading()">Cargando datos...</div>
      <div class="status error" *ngIf="error()">{{ error() }}</div>
    </div>
    <div class="hero-panel">
      <div class="panel-item">
        <span class="label">Coleccion</span>
        <span class="value">Boticaria</span>
      </div>
      <div class="panel-item">
        <span class="label">Personajes</span>
        <span class="value">{{ boticaria().length }}</span>
      </div>
    </div>
  </header>

  <section class="grid">
    <div class="card">
      <div class="card-header">
        <h2>Personajes de La Boticaria</h2>
        <p>Selecciona un personaje para ver el detalle.</p>
      </div>
      <div class="split">
        <ul class="list">
          <li *ngFor="let personaje of boticaria()">
            <button
              class="list-item"
              [class.active]="selectedBoticaria()?._id === personaje._id"
              (click)="selectBoticaria(personaje)"
            >
              <img
                class="avatar"
                [src]="personaje.imageUrl || 'https://placehold.co/96x128?text=Foto'"
                [alt]="personaje.name"
              />
              <div>
                <span class="name">{{ personaje.name }}</span>
                <span class="meta">{{ personaje.role }}</span>
              </div>
            </button>
          </li>
        </ul>
        <div class="detail" *ngIf="selectedBoticaria() as personaje">
          <div class="detail-header">
            <img
              class="portrait"
              [src]="personaje.imageUrl || 'https://placehold.co/240x320?text=Foto'"
              [alt]="personaje.name"
            />
            <div>
              <h3>{{ personaje.name }}</h3>
              <p class="detail-title">{{ personaje.role }}</p>
            </div>
          </div>
          <div class="detail-grid">
            <div>
              <span class="label">Afiliacion</span>
              <span class="value">{{ personaje.affiliation || 'N/A' }}</span>
            </div>
            <div>
              <span class="label">Region</span>
              <span class="value">{{ personaje.region || 'N/A' }}</span>
            </div>
            <div>
              <span class="label">Rasgos</span>
              <span class="value">{{ personaje.traits?.join(', ') || 'N/A' }}</span>
            </div>
          </div>
          <p class="detail-desc">{{ personaje.description || 'Sin descripcion.' }}</p>
        </div>
      </div>
    </div>
  </section>
</div>
